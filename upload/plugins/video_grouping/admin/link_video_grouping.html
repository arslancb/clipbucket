<!-- Displaying video groupings -->
<div class="heading">
	<h2>{lang('link_groupings_to_video')} {$video.videoid}</h2>
</div>
<div><span class="btn btn-primary" onclick="toggle_search('searchdiv')" ><span class="glyphicon glyphicon-search"></span> {lang('filter')}</span></div>
<div class="search_box" id="searchdiv" {if $showfilter!=true} style="display:none"{/if}>  
	<div class="well">
		<form id="groupingSearch" name="groupingSearch" method="post" action="" class="groupingSearch">
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label for="name">{lang('name')} </label> 
						<input name="name" class="form-control" type="text" class="input" id="name" value="{$searchname}" />
					</div>
				</div>
			</div>
		  <input type="submit" class="btn btn-primary btn-sm" name="filter" id="filter" value="{lang('filter')}" class="button"/>
		</form>
	</div>
</div>

{if $unlinkedGrouping || $linkedGrouping}
<hr/>
<form name="user_manage" method="post">
  <div class="btn-group marginBottomSmall">
    <input class="btn btn-primary btn-sm" type="submit" name="groupingSelected" value="{lang('validate')}" onclick="return confirmation(this,'Are you sure you want to validate selected grouping(s)')"/>
  </div>
  
  
<table class="table table-bordered table-striped manageUsersTable">
<caption>{lang('list_of_selected_groupings')}</caption>
<thead>
    <th width="40" align="center" valign="middle" class="left_head">
    <input type="checkbox" name="checkedall"  checked='true' onclick="checkUncheckAllName(this,'checkedGrouping[]');"/></th>
    <th width="50" class="head">id</th>
    <th class="head">{lang('name')}</th>
    <th class="head">{lang('grouping_type')}</th>
  </thead>
<tbody>
{foreach from=$linkedGrouping item=u}
<tr>
    <td>
      <input name="checkedGrouping[]" type="checkbox" id="checkGrouping" value="{$u.id}" checked='true' />
    </td>
    <td>
      {$u.id}
    </td>
    <td>
        <div class="row">
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-9">
                        <a href="{$video_grouping_manage_page}&editGrouping={$u.id}" target="_blank" class="oneUserName">{$u.name} </a>
                    </div>
                </div>
            </div>
    </td>
    <td>
        <div class="row">
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-9">
                        {$u.vdogroupingtype_name}
                    </div>
                </div>
            </div>
    </td>
  </tr>
{if $bgcolor == ""}
{assign var = bgcolor value = "#EEEEEE"}
{else}
{assign var = bgcolor value = ""}
{/if}  
{/foreach}
</tbody>
</table>

<br>
<!-- DIsplaying Videos Ends-->
{include file="$style_dir/blocks/pagination.html" }
<table class="table table-bordered table-striped manageUsersTable">
<caption>{lang('list_of_unselected_groupings')}</caption>
<thead>
    <th width="40" align="center" valign="middle" class="left_head">
    <input type="checkbox" name="checkall" onclick="checkUncheckAllName(this,'checkGrouping[]');"/></th>
    <th width="50" class="head">id</th>
    <th class="head">{lang('name')}</th>
    <th class="head">{lang('grouping_type')}</th>
  </thead>
<tbody>
{foreach from=$unlinkedGrouping item=u}
<tr>
    <td>
      <input name="checkGrouping[]" type="checkbox" id="checkGrouping" value="{$u.id}" />
    </td>
    <td>
      {$u.id}
    </td>
    <td>
        <div class="row">
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-9">
                        <a href="{$video_grouping_manage_page}&editGrouping={$u.id}" target="_blank" class="oneUserName">{$u.name} </a>
                    </div>
                </div>
            </div>
    </td>
    <td>
        <div class="row">
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-9">
                        {$u.vdogroupingtype_name}
                    </div>
                </div>
            </div>
    </td>
  </tr>
{if $bgcolor == ""}
{assign var = bgcolor value = "#EEEEEE"}
{else}
{assign var = bgcolor value = ""}
{/if}  
{/foreach}
</tbody>
</table>

<div class="btn-group">
    <input class="btn btn-primary btn-sm" type="submit" name="groupingSelected" value="{lang('validate')}" onclick="return confirmation(this,'Are you sure you want to validate selected grouping(s)')"/>
  </div>
</form>
{else}
	<div align="center"><strong><em>{lang('no_grouping_found')}</em></strong></div>
{/if}



<!-- DIsplaying Videos Ends-->
{include file="$style_dir/blocks/pagination.html" }


<script>
function checkUncheckAllName(theElement,name) {
	var theForm = theElement.form, z = 0;
	for(z=0; z<theForm.length;z++){
		if(theForm[z].type == 'checkbox' && theForm[z].name == name){
			theForm[z].checked = theElement.checked;
		}
	}
}

function invertCheckboxes(theElement,name) {
	var theForm = theElement.form, z = 0;
	for(z=0; z<theForm.length;z++){
		if(theForm[z].type == 'checkbox' && theForm[z].name == name){
			theForm[z].checked = !theForm[z].checked;
		}
	}
}
	

function confirmation(theElement,msg){
	var rep=confirm_it(msg);
	if (rep){
		invertCheckboxes(theElement,'checkedGrouping[]');
	}
	return rep;
}	
</script>