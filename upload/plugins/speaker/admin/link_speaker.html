{if $unlinkedspeakers}
<!-- Displaying Members -->
<div class="heading">
	<h2>{lang('link_speakers_to_video nb')}{$video.videoid}</h2>
</div>
<div><span class="btn btn-primary" onclick="toggle_search('searchdiv')" >{lang('filter')}</span></div>
<br/>
<div class="search_box" id="searchdiv" {if $showfilter!=true} style="display:none"{/if}>  
<form id="speaker_search" name="speaker_search" method="post" action="" class="speaker_search">
	<div><label for="firstname">{lang('user_fname')}</label><input name="firstname" type="text" class="input" id="firstname" value="{$speakfirstname}" />
	<label for="lastname">{lang('user_lname')}</label><input name="lastname" type="text" class="input" id="lastname" value="{$speaklastname}" /></div>
  <br/>
  <input type="submit" name="filter" id="filter" value="{lang('speaker_filter')}" class="button"/>
</form>
  <br/>
</div>
<form name="user_manage" method="post">
  <div class="btn-group marginBottomSmall">
    <input class="btn btn-primary btn-xs" type="submit" name="link_selected" value="{lang('validate')}" onclick="return confirmation(this,'Are you sure you want to validate selected speakers(s)')"/>
  </div>
  
  
<table class="table table-bordered table-striped manageUsersTable">
<caption>{lang('list_of_selected_roles')}</caption>
<thead>
    <th width="40" align="center" valign="middle" class="left_head">
    <input type="checkbox" name="checkedall"  checked='true' onclick="checkUncheckAllName(this,'checked_speaker[]');"/></th>
    <th width="50" class="head">id</th>
    <th class="head">{lang('speaker_details')}</th>
  </thead>
<tbody>
{foreach from=$linkedspeakers item=u}
<tr>
    <td>
      <input name="checked_speaker[]" type="checkbox" id="check_speaker" value="{$u.id}" checked='true' />
    </td>
    <td>
      {$u.id}
    </td>
    <td>
        <div class="row">
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-9">
                        <a href="{$ul_speaker_editpage}&id={$u.sid}" target="_blank" class="oneUserName">{$u.firstname} {$u.lastname} </a>
                        <span>[{$u.description}]</span>
                    </div>
                </div>
            </div>
    </td>
  </tr>
{if $bgcolor == ""}
{assign var = bgcolor value = "#EEEEEE"}
{else}
{assign var = bgcolor value = ""}
{/if}  
{/foreach}
</tbody>
</table>

<br>
<table class="table table-bordered table-striped manageUsersTable">
<caption>{lang('list_of_unselected_roles')}</caption>
<thead>
    <th width="40" align="center" valign="middle" class="left_head">
    <input type="checkbox" name="checkall" onclick="checkUncheckAllName(this,'check_speaker[]');"/></th>
    <th width="50" class="head">id</th>
    <th class="head">{lang('speaker_details')}</th>
  </thead>
<tbody>
{foreach from=$unlinkedspeakers item=u}
<tr>
    <td>
      <input name="check_speaker[]" type="checkbox" id="check_speaker" value="{$u.id}" />
    </td>
    <td>
      {$u.id}
    </td>
    <td>
        <div class="row">
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-9">
                        <a href="{$ul_speaker_editpage}&id={$u.sid}" target="_blank" class="oneUserName">{$u.firstname} {$u.lastname} </a>
                        <span>[{$u.description}]</span>
                    </div>
                </div>
            </div>
    </td>
  </tr>
{if $bgcolor == ""}
{assign var = bgcolor value = "#EEEEEE"}
{else}
{assign var = bgcolor value = ""}
{/if}  
{/foreach}
</tbody>
</table>

<div class="btn-group">
    <input class="btn btn-primary btn-xs" type="submit" name="link_selected" value="{lang('validate')}" onclick="return confirmation(this,'Are you sure you want to validate selected speakers(s)')"/>
  </div>
</form>
{else}
	<div align="center"><strong><em>NO SPEAKER FOUND</em></strong></div>
{/if}



<!-- DIsplaying Videos Ends-->
{include file="$style_dir/blocks/pagination.html" }


<script>
function checkUncheckAllName(theElement,name) {
	var theForm = theElement.form, z = 0;
	for(z=0; z<theForm.length;z++){
		if(theForm[z].type == 'checkbox' && theForm[z].name == name){
			theForm[z].checked = theElement.checked;
		}
	}
}

function invertCheckboxes(theElement,name) {
	var theForm = theElement.form, z = 0;
	for(z=0; z<theForm.length;z++){
		if(theForm[z].type == 'checkbox' && theForm[z].name == name){
			theForm[z].checked = !theForm[z].checked;
		}
	}
}
	

function confirmation(theElement,msg){
	var rep=confirm_it(msg);
	if (rep){
		invertCheckboxes(theElement,'checked_speaker[]');
	}
	return rep;
}	
</script>